<!DOCTYPE html>
<html lang="en">

<head>
<meta charset=utf-8>
    <title>metalsmith</title>
    <meta name="description" content="Iconic Sail and Sailboats of the Salish Sea">
    <meta name="keywords" content = "Salish Sea, schooner, ketch, yawl">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" sizes="192x192" href="/assets/img/mebyAudi2.png">
    <link rel="icon" sizes="192x192" href="/assets/img/mebyAudi2.png">

    <link rel="stylesheet" href="/assets/elusive_2.0.0/css/elusive-icons.min.css">
    <!--link rel="stylesheet" href="/assets/css/octicons.css" media="screen" title="no title"-->

    <style type="text/css" title="layout" media="screen">
        @import url("/assets/css/mc.css");
        @import url("/assets/css/prism.css");
    </style>
    
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-90305082-1', 'auto');
  ga('send', 'pageview');

  </script>
    <link rel="stylesheet" href="/assets/css/project.css">
</head>

<body>

   <header class="mainheader">

      <script src='/assets/js/prism.js'></script>

      <a href="/index.html"><img src="/assets/logo/morganconrad.svg" alt="Home" title="Home"/></a>

      <div class = "dropdown right">
         <img src="/assets/svg/menu.svg" class="dropdown-btn" alt="Menu" title="Menu" height="40"/>
         <div class="dropdown-content">
            <a href="/index.html">Home</a>
            <a href="/index.html#portfolio">Portfolio</a>
            <a href="/index.html#about">About</a>
            <a href="/index.html#contact">Contact</a>
            <a href="/posts.html">Blog</a>
         </div>
      </div>
   </header>

   <main class="project">
<a href="https://www.npmjs.com/package/fcs"><h1 class="spacer">metalsmith</h1>

<figure id="project-figure">
   <img src="/assets/img/metalsmithlogo.svg"/>
   <figcaption> Four metalsmith plugins </figcaption>
</figure>
</a>

<br>
<h2 id="metalsmith-plugins">Metalsmith plugins</h2>
<p><br><a href="http://www.metalsmith.io/">Metalsmith</a> is a pluggable file processor, built on NodeJS, generally used for creating static web sites.</p>
<ul>
<li>Reads files from a directory, extracts their information (typically using YAML) into a JS Object</li>
<li>Processes these objects with plugins</li>
<li>(typically Markdown for the content and a template language like Handlebars or JADE to generate the HTML)</li>
<li>Writes the results to a destination directory.</li>
</ul>
<p><br>
The Metalsmith documentation is sparse, so I ended up writing a couple of plugins for debugging:  <strong>assert</strong> and <strong>inspect</strong>.  In developing them, it inspired two others: <strong>cp-r</strong> and <strong>keymaster</strong>.</p>
<p>All these modules are open-source, in JavaScript, available on NPM and GitHub, and use <a href="https://github.com/substack/tape">Tape</a> for unit tests.  CI is performed by <a href="https://travis-ci.org/">Travis CI</a></p>
<p><br class="clearboth"></p>
<h3 id="-metalsmith-assert-https-www-npmjs-com-package-metalsmith-assert-"><a href="https://www.npmjs.com/package/metalsmith-assert">metalsmith-assert</a></h3>
<p>Test file objects with Node&#39;s assert module.  For example, to test that all have a property named &quot;title&quot;:</p>
<pre><code class="lang-javascript">.use(metalsmith-assert({
    &quot;title exists&quot; : { actual: &quot;title&quot;}
} ) )
</code></pre>
<p><br></p>
<h3 id="-metalsmith-cp-r-https-www-npmjs-com-package-metalsmith-cp-r-"><a href="https://www.npmjs.com/package/metalsmith-cp-r">metalsmith-cp-r</a></h3>
<p>Copies a folder recursively, typically to copy web assets (CSS, scripts, images) from the working directory into the metalsmith destination directory.  e.g.:</p>
<pre><code class="lang-javascript">.use(metalsmith-cp-r({
   from: &quot;_directory/pathto/assets&quot;,
   to: &quot;_destination/pathto/assets&quot;
} ) )
</code></pre>
<p><br></p>
<h3 id="-metalsmith-inspect-https-www-npmjs-com-package-metalsmith-inspect-"><a href="https://www.npmjs.com/package/metalsmith-inspect">metalsmith-inspect</a></h3>
<p>Inspects the file objects, typically via Node&#39;s <a href="https://nodejs.org/api/util.html#util_util_inspect_object_options">util.inspect()</a>.  To see everything:</p>
<pre><code class="lang-javascript">.use(metalsmith-inspect({}))
</code></pre>
<p><br></p>
<h3 id="-metalsmith-keymaster-https-www-npmjs-com-package-metalsmith-keymaster-"><a href="https://www.npmjs.com/package/metalsmith-keymaster">metalsmith-keymaster</a></h3>
<p>A relatively simple but powerful plugin to create new values and store them under new keys.  Since that&#39;s what <em>most</em> plugins do, this could be considered as a &quot;meta-plugin&quot; for developing plugins.</p>
<p>For example, to add the filename as metadata under the &quot;foo&quot; key:</p>
<pre><code class="lang-javascript">.use(keymaster({from: function(data, filePath) {
                   return filePath;
                },
                to: &#39;foo&#39;}));
</code></pre>
<div class="logos"><br><img src='/assets/logo/spotlight_uses_32.svg' alt="Uses" title="Technology used"/>
<img src='/assets/logo/JS.svg' alt='JavaScript' title='JavaScript'/>
<img src='/assets/logo/nodejs.svg' alt='nodejs' title='nodejs'/>
<img src='/assets/logo/NPM.svg' alt='NPM' title='NPM'/>
</div>


</main>

<footer id="contact">
<nav>
   <a class="el el-fw el-2x el-envelope" href="mailto:flyingspaniel@gmail.com" title="Email me"></a>
   <a class="el el-fw el-2x el-phone" href="tel:+1-6504409944" title="Phone me"></a>
   <img src="/assets/logo/snailmail.svg" width="46" height="32" alt="US Mail" title="Morgan Conrad&#013;&#010;313 Wilson St.&#013;&#010;Port Townsend WA 98368"/>
   <a href="https://github.com/MorganConrad" class="el el-fw el-2x el-github" title="Github"></a>
   <a href="https://www.linkedin.com/in/morganconrad" class="el el-fw el-2x el-linkedin" title="LinkedIn"></a>
   <a href="https://flyingspaniel.com"><img src="/assets/logo/flyingspaniel.svg" width="48" height="48" alt="Business Web Site" title="Business Web Site"/></a>
  </nav>
   <address>&copy; 2017 Morgan Conrad.</address>
</footer>
</body>
</html>
